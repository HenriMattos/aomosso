/* ══════════════════════════════════════════════════════════
   AO MOSSO v4 — Responsive Design
   Mobile-first approach · Breakpoints: 768px, 480px, 360px
══════════════════════════════════════════════════════════ */

/* ══ TABLET & DESKTOP (768px+) ══════════════════════════ */
@media (max-width: 1024px) {
  .main { padding: 20px 24px; }
  .kpi-row { gap: 10px; }
  .kpi-card { padding: 14px 16px; }
}

/* ══ TABLET (768px) ════════════════════════════════════ */
@media (max-width: 768px) {
  :root {
    --sidebar: 220px;
    --topbar: 56px;
  }

  /* PREVENT OVERFLOW */
  html, body { width: 100%; overflow-x: hidden; }
  .screen { width: 100%; }
  
  /* PAGE LAYOUT */
  .topbar { display: flex; }
  .sidebar { width: var(--sidebar); padding: 16px 10px; position: relative; }
  .main { padding: 18px 16px; overflow-x: hidden; }
  .app-body { min-height: 0; }
  
  /* SHORTCUTS - 2 COLUNAS */
  .shortcuts { grid-template-columns: repeat(2, 1fr); }
  .shortcut { flex-direction: column; justify-content: center; text-align: center; }
  .sh-icon { width: 40px; height: 40px; font-size: 16px; }
  
  /* SIDEBAR RESPONSIVE */
  .sidebar-profile { 
    padding: 10px; 
    margin-bottom: 16px; 
  }
  .profile-info strong { font-size: 12px; }
  .nav-section { margin-bottom: 14px; }
  .nav-link { padding: 8px 10px; font-size: 12px; gap: 8px; }
  .nav-icon { width: 26px; height: 26px; font-size: 12px; }
  .sb-clock { font-size: 18px; }

  /* KPI CARDS - 3 COLUNAS */
  .kpi-row { grid-template-columns: repeat(3, 1fr); gap: 10px; }
  .kpi-card { 
    padding: 14px 12px; 
    gap: 10px;
    flex-direction: column;
    text-align: center;
  }
  .kpi-icon { width: 40px; height: 40px; font-size: 16px; }
  .kpi-body strong { font-size: 18px; }
  
  /* FIN KPI - 2 COLUNAS */
  .fin-kpis { grid-template-columns: repeat(2, 1fr); }
  .fin-kpi { padding: 12px 14px; }
  .fk-value { font-size: 18px; }
  
  /* COTAS CARDS */
  .cota-item { padding: 8px 12px; font-size: 12px; gap: 8px; }
  .cota-av { width: 28px; height: 28px; font-size: 10px; }
  .cota-nome { font-size: 12px; }
  .cota-valor { font-size: 13px; }
  .cota-edit-btn { width: 24px; height: 24px; }
  .btn-ver-mais { font-size: 12px; padding: 8px 12px; }
  .feed-cota-row { padding: 8px 10px; gap: 8px; }

  /* FORMS & FIELDS */
  .fields-2col { grid-template-columns: 1fr; gap: 10px; }
  .field input, .select-styled {
    font-size: 16px;
    padding: 10px 12px;
    height: 40px;
  }
  .field label { font-size: 10px; }

  /* BUTTONS */
  .btn-main { 
    padding: 10px 16px; 
    font-size: 13px;
    min-height: 40px;
  }
  .btn-outline, .btn-ghost { min-height: 40px; }
  .header-acts { gap: 6px; }

  /* TWO COLUMN LAYOUTS */
  .two-col-layout { 
    grid-template-columns: 1fr; 
    gap: 14px; 
  }

  /* PAGE HEADERS */
  .page-header { gap: 10px; }
  .page-header h2 { font-size: 20px; }
  .page-header h2 i { font-size: 16px; }

  /* CARDS & CONTAINERS */
  .card { padding: 16px; border-radius: 12px; }
  .section-title { font-size: 16px; }

  /* LOGIN RESPONSIVE */
  .login-wrap { 
    width: 95%; 
    max-width: 380px; 
    padding: 14px; 
  }
  .login-top { margin-bottom: 18px; }
  .card { padding: 18px; }
  .tab-row { margin-bottom: 14px; gap: 2px; padding: 3px; }
  .tab { padding: 8px; font-size: 12px; }
  .field { margin-bottom: 10px; }
  .field label { font-size: 10px; margin-bottom: 4px; }
  .login-title { font-size: 28px; }
  .login-emblem { 
    width: 60px; 
    height: 60px; 
    margin: 0 auto 10px;
    font-size: 24px; 
  }
  .fields-2col { gap: 0 8px; }

  /* TABLES & LISTS */
  .table-responsive { font-size: 12px; }
  tbody td { padding: 10px 8px; }
  thead th { padding: 10px 8px; font-size: 11px; }

  /* DIALOGS & MODALS */
  .modal-content { width: 90%; max-width: 90vw; }
  .modal-header { padding: 16px; }
  
  /* GRID ADJUSTMENTS */
  .grid-auto { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
}

/* ══ SMARTPHONE (480px) ════════════════════════════════ */
@media (max-width: 480px) {
  :root {
    --sidebar: 0px;
    --topbar: 54px;
    --r: 12px;
    --r-sm: 8px;
  }

  /* SCREEN & LAYOUT FIX */
  html, body { 
    width: 100vw; 
    overflow-x: hidden;
  }
  * { max-width: 100%; }
  .screen { width: 100vw; }
  #screen-app { 
    width: 100vw;
    display: flex; 
    flex-direction: column; 
  }
  
  /* TOPBAR */
  .topbar { 
    display: flex;
    padding: 0 12px;
    position: relative;
    z-index: 201;
    width: 100%;
  }
  .menu-toggle { display: flex; }
  .topbar-brand { flex: 1; }
  
  /* SIDEBAR - FIXED OVERLAY */
  .sidebar { 
    position: fixed;
    left: 0;
    top: var(--topbar);
    width: 240px;
    max-width: 80vw;
    height: calc(100vh - var(--topbar));
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    z-index: 199;
    box-shadow: 2px 0 12px rgba(0,0,0,0.2);
    overflow-y: auto;
    padding-top: 10px;
  }
  .sidebar.open { transform: translateX(0); }
  
  .sidebar-profile { 
    padding: 10px;
    margin-bottom: 16px;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  
  .sidebar-overlay { 
    position: fixed;
    display: none;
    top: var(--topbar);
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 198;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(2px);
  }
  .sidebar-overlay.open { display: block; }

  /* APP BODY & MAIN */
  .app-body { 
    display: flex;
    flex-direction: row;
    flex: 1;
    width: 100vw;
    overflow: hidden;
  }
  .main { 
    flex: 1;
    padding: 14px 12px;
    width: 100%;
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* KPI CARDS - 2 COLUNAS */
  .kpi-row { 
    grid-template-columns: repeat(2, 1fr); 
    gap: 8px;
  }
  .kpi-card { 
    padding: 12px;
    flex-direction: column;
    text-align: center;
    gap: 8px;
  }
  .kpi-icon { width: 36px; height: 36px; font-size: 14px; }
  .kpi-body strong { font-size: 16px; }
  .kpi-body span { font-size: 10px; }
  
  /* FIN KPI - 2 COLUNAS */
  .fin-kpis { grid-template-columns: repeat(2, 1fr); gap: 8px; }
  .fin-kpi { padding: 10px 12px; }
  .fk-value { font-size: 16px; }
  .fk-label { font-size: 9px; }
  
  /* COTAS */
  .cota-item { padding: 6px 10px; font-size: 11px; gap: 6px; }
  .cota-av { width: 24px; height: 24px; font-size: 9px; }
  .cota-nome { font-size: 11px; }
  .cota-valor { font-size: 12px; }
  .cota-edit-btn { width: 20px; height: 20px; font-size: 11px; }
  .btn-ver-mais { font-size: 11px; padding: 7px 10px; }
  .feed-cota-row { padding: 8px 10px; gap: 8px; }
  
  /* SHORTCUTS - VERTICAL STACK */
  .shortcuts { grid-template-columns: 1fr; gap: 8px; }
  .shortcut { 
    flex-direction: row;
    justify-content: flex-start;
    text-align: left;
    padding: 10px 12px;
  }
  .sh-icon { width: 36px; height: 36px; font-size: 14px; flex-shrink: 0; }

  /* PAGE ELEMENTS */
  .page-header { 
    flex-direction: column; 
    align-items: flex-start;
    gap: 8px;
    padding-bottom: 12px;
  }
  .page-header h2 { 
    font-size: 18px; 
    width: 100%;
  }
  .page-header h2 i { font-size: 16px; }
  .header-acts { 
    width: 100%;
    justify-content: flex-start;
  }

  /* FORMS */
  .fields-2col { 
    grid-template-columns: 1fr; 
    gap: 8px;
  }
  .span2 { grid-column: 1; }
  
  .field { margin-bottom: 10px; }
  .field label { 
    font-size: 9px;
    margin-bottom: 4px;
  }
  .field input, 
  .select-styled {
    font-size: 16px;
    padding: 10px 10px;
    height: 40px;
    border-radius: 8px;
  }

  /* BUTTONS */
  .btn-main { 
    padding: 10px 12px; 
    font-size: 13px;
    min-height: 40px;
    width: 100%;
  }
  .btn-outline { 
    padding: 9px 12px;
    font-size: 12px;
    min-height: 38px;
    width: 100%;
  }
  .btn-ghost { 
    min-height: 36px;
    font-size: 12px;
  }
  .btn-main.sm { 
    padding: 8px 10px;
    min-height: 36px;
    font-size: 12px;
  }

  /* CARDS */
  .card { 
    padding: 14px; 
    border-radius: 10px;
    margin-bottom: 12px;
  }

  /* LOGIN */
  .login-wrap { 
    width: 100%; 
    max-width: 95vw;
    padding: 16px;
  }
  .login-title { 
    font-size: 24px; 
    margin-bottom: 2px;
  }
  .login-sub { font-size: 10px; }
  .login-emblem { 
    width: 56px; 
    height: 56px; 
    margin: 0 auto 10px;
    font-size: 22px;
  }
  .login-geometric:nth-child(1) { width: 400px; height: 400px; top: -150px; right: -150px; }
  .login-geometric.g2 { width: 300px; height: 300px; bottom: -80px; left: -120px; }
  .login-geometric.g3 { width: 150px; height: 150px; }

  /* TABS */
  .tab { 
    padding: 8px; 
    font-size: 12px;
  }
  .tab-row { 
    gap: 2px; 
    padding: 3px;
    margin-bottom: 16px;
  }

  /* TWO COL LAYOUT */
  .two-col-layout { 
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* TABLES */
  .table-responsive { 
    font-size: 11px;
    overflow-x: auto;
  }
  tbody td { 
    padding: 8px 6px;
    font-size: 11px;
  }
  thead th { 
    padding: 8px 6px;
    font-size: 10px;
  }

  /* SECTION TITLES */
  .section-title { 
    font-size: 14px;
    margin-bottom: 10px;
  }

  /* FORMS MESSAGES */
  .form-msg { font-size: 11px; }
  .hint-box { 
    font-size: 11px;
    padding: 8px 10px;
  }

  /* GRIDS */
  .grid-auto { 
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 10px;
  }

  /* MODALS */
  .modal-content { 
    width: 95vw;
    max-width: 95vw;
    padding: 14px;
  }
  .modal-header { 
    padding: 12px;
    margin-bottom: 10px;
  }
  .modal-header h3 { font-size: 16px; }

  /* LISTS & BADGES */
  .cargo-badge { 
    font-size: 9px;
    padding: 3px 6px;
  }

  /* TEXT ADJUSTMENTS */
  p { font-size: 13px; }
  small { font-size: 10px; }

  /* SPACING ADJUSTMENTS */
  .gap-12 { gap: 8px; }
  .gap-16 { gap: 12px; }
  .gap-20 { gap: 14px; }

  /* PADDING ADJUSTMENTS */
  .px-4 { padding-left: 10px; padding-right: 10px; }
  .py-4 { padding-top: 10px; padding-bottom: 10px; }
}

  /* FORMS */
  .fields-2col { 
    grid-template-columns: 1fr; 
    gap: 8px;
  }
  .span2 { grid-column: 1; }
  
  .field { margin-bottom: 10px; }
  .field label { 
    font-size: 9px;
    margin-bottom: 4px;
  }
  .field input, 
  .select-styled {
    font-size: 16px; /* Prevents iOS zoom */
    padding: 10px 10px;
    height: 40px;
    border-radius: 8px;
  }

  /* BUTTONS */
  .btn-main { 
    padding: 10px 12px; 
    font-size: 13px;
    min-height: 40px;
    width: 100%;
  }
  .btn-outline { 
    padding: 9px 12px;
    font-size: 12px;
    min-height: 38px;
    width: 100%;
  }
  .btn-ghost { 
    min-height: 36px;
    font-size: 12px;
  }
  .btn-main.sm { 
    padding: 8px 10px;
    min-height: 36px;
    font-size: 12px;
  }

  /* CARDS */
  .card { 
    padding: 14px; 
    border-radius: 10px;
    margin-bottom: 12px;
  }

  /* LOGIN */
  .login-wrap { 
    width: 100%; 
    max-width: 95vw;
    padding: 16px;
  }
  .login-title { 
    font-size: 24px; 
    margin-bottom: 2px;
  }
  .login-sub { font-size: 10px; }
  .login-emblem { 
    width: 56px; 
    height: 56px; 
    margin: 0 auto 10px;
    font-size: 22px;
  }
  .login-geometric:nth-child(1) { width: 400px; height: 400px; top: -150px; right: -150px; }
  .login-geometric.g2 { width: 300px; height: 300px; bottom: -80px; left: -120px; }
  .login-geometric.g3 { width: 150px; height: 150px; }

  /* TABS */
  .tab { 
    padding: 8px; 
    font-size: 12px;
  }
  .tab-row { 
    gap: 2px; 
    padding: 3px;
    margin-bottom: 16px;
  }

  /* TWO COL LAYOUT */
  .two-col-layout { 
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* TABLES */
  .table-responsive { 
    font-size: 11px;
    overflow-x: auto;
  }
  tbody td { 
    padding: 8px 6px;
    font-size: 11px;
  }
  thead th { 
    padding: 8px 6px;
    font-size: 10px;
  }

  /* SECTION TITLES */
  .section-title { 
    font-size: 14px;
    margin-bottom: 10px;
  }

  /* FORMS MESSAGES */
  .form-msg { font-size: 11px; }
  .hint-box { 
    font-size: 11px;
    padding: 8px 10px;
  }

  /* GRIDS */
  .grid-auto { 
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 10px;
  }

  /* MODALS */
  .modal-content { 
    width: 95vw;
    max-width: 95vw;
    padding: 14px;
  }
  .modal-header { 
    padding: 12px;
    margin-bottom: 10px;
  }
  .modal-header h3 { font-size: 16px; }

  /* LISTS & BADGES */
  .cargo-badge { 
    font-size: 9px;
    padding: 3px 6px;
  }

  /* TEXT ADJUSTMENTS */
  p { font-size: 13px; }
  small { font-size: 10px; }

  /* SPACING ADJUSTMENTS */
  .gap-12 { gap: 8px; }
  .gap-16 { gap: 12px; }
  .gap-20 { gap: 14px; }

  /* PADDING ADJUSTMENTS */
  .px-4 { padding-left: 10px; padding-right: 10px; }
  .py-4 { padding-top: 10px; padding-bottom: 10px; }
}

/* ══ SMALL PHONES (360px) ══════════════════════════════ */
@media (max-width: 360px) {
  :root {
    --sidebar: 0px;
    --topbar: 52px;
    --r: 10px;
    --r-sm: 6px;
  }

  /* SCREEN & LAYOUT */
  html, body { width: 100vw; overflow-x: hidden; }
  * { max-width: 100%; }
  .screen { width: 100vw; }
  #screen-app { width: 100vw; display: flex; flex-direction: column; }
  
  /* TOPBAR & SIDEBAR */
  .topbar { width: 100%; position: relative; z-index: 201; }
  .sidebar { 
    width: 220px;
    max-width: 80vw;
    position: fixed;
    left: 0;
    top: var(--topbar);
    height: calc(100vh - var(--topbar));
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    z-index: 199;
  }
  .sidebar-overlay { 
    position: fixed;
    top: var(--topbar);
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 198;
  }
  .app-body { width: 100vw; }
  
  /* ULTRA MOBILE LAYOUT */
  .main { 
    padding: 12px 10px;
    overflow-y: auto;
    overflow-x: hidden;
    width: 100%;
  }

  .page-header { 
    gap: 6px;
    padding-bottom: 10px;
  }
  .page-header h2 { 
    font-size: 16px;
  }
  .page-header h2 i { 
    font-size: 14px;
  }

  /* KPI SINGLE COLUMN */
  .kpi-row { 
    grid-template-columns: 1fr;
    gap: 6px;
  }
  .kpi-card { 
    padding: 10px;
    flex-direction: row;
    text-align: left;
  }
  .kpi-icon { width: 32px; height: 32px; font-size: 12px; }
  .kpi-value { font-size: 14px; }
  .kpi-label { font-size: 9px; }
  
  /* FIN KPI - 2 COLUNAS */
  .fin-kpis { grid-template-columns: repeat(2, 1fr); gap: 6px; }
  .fin-kpi { padding: 8px 10px; }
  .fk-value { font-size: 14px; }
  .fk-label { font-size: 8px; }
  
  /* COTAS */
  .cota-item { padding: 4px 8px; font-size: 10px; gap: 4px; }
  .cota-av { width: 20px; height: 20px; font-size: 8px; }
  .cota-nome { font-size: 10px; }
  .cota-valor { font-size: 11px; }
  .cota-edit-btn { width: 18px; height: 18px; font-size: 9px; }
  .btn-ver-mais { font-size: 10px; padding: 6px 8px; }
  
  .feed-cota-row { padding: 6px 8px; gap: 6px; }
  
  /* SHORTCUTS - VERTICAL STACK */
  .shortcuts { grid-template-columns: 1fr; gap: 6px; }
  .shortcut { 
    flex-direction: row;
    justify-content: flex-start;
    text-align: left;
    padding: 8px 10px;
    font-size: 12px;
  }
  .sh-icon { width: 32px; height: 32px; font-size: 12px; flex-shrink: 0; }

  /* FORMS - EXTRA COMPACT */
  .field { margin-bottom: 8px; }
  .field label { 
    font-size: 8px;
    margin-bottom: 3px;
  }
  .field input,
  .select-styled {
    font-size: 16px;
    padding: 9px 8px;
    height: 38px;
  }

  /* BUTTONS - MINIMAL */
  .btn-main { 
    padding: 8px 10px;
    font-size: 12px;
    min-height: 36px;
  }
  .btn-outline,
  .btn-ghost { 
    min-height: 34px;
    font-size: 11px;
  }

  /* CARDS - TIGHT PADDING */
  .card { 
    padding: 12px;
  }

  /* LOGIN - MINIMAL */
  .login-wrap { 
    padding: 12px;
  }
  .login-title { 
    font-size: 20px;
  }
  .login-emblem { 
    width: 48px;
    height: 48px;
    font-size: 18px;
    margin: 0 auto 8px;
  }
  .login-geometric:nth-child(1) { 
    width: 300px; 
    height: 300px; 
    top: -120px; 
    right: -120px; 
  }
  .login-geometric.g2 { 
    width: 200px; 
    height: 200px; 
    bottom: -60px; 
    left: -100px; 
  }

  /* TOPBAR COMPACT */
  .topbar-brand { 
    font-size: 13px;
    gap: 6px;
  }
  .topbar-brand i { font-size: 14px; }
  .topbar-notif, .topbar-av {
    width: 28px;
    height: 28px;
    font-size: 11px;
  }

  /* TEXT & SPACING */
  p { font-size: 12px; }
  small { font-size: 9px; }
  
  .section-title { 
    font-size: 13px;
    margin-bottom: 8px;
  }

  /* MODALS */
  .modal-content {
    width: 98vw;
    padding: 12px;
  }

  /* GRID ADJUSTMENTS */
  .grid-auto { 
    grid-template-columns: 1fr;
    gap: 8px;
  }

  /* LINE WIDTH */
  thead th { 
    font-size: 9px;
    padding: 6px 4px;
  }
  tbody td {
    padding: 6px 4px;
    font-size: 10px;
  }

  /* ICON ADJUSTMENTS */
  .nav-icon { 
    width: 24px; 
    height: 24px; 
    font-size: 11px;
  }
  .profile-av { 
    width: 34px; 
    height: 34px;
    font-size: 12px;
  }

  /* MARGIN/PADDING REDUCTIONS */
  .gap-8 { gap: 4px; }
  .gap-12 { gap: 6px; }
  .gap-16 { gap: 8px; }
  .px-4 { padding: 0 8px; }
  .py-4 { padding: 8px 0; }
}

  .page-header { 
    gap: 6px;
    padding-bottom: 10px;
  }
  .page-header h2 { 
    font-size: 16px;
  }
  .page-header h2 i { 
    font-size: 14px;
  }

  /* KPI SINGLE COLUMN */
  .kpi-row { 
    grid-template-columns: 1fr;
    gap: 6px;
  }
  .kpi-card { 
    padding: 10px;
    flex-direction: row;
    text-align: left;
  }
  .kpi-value { font-size: 16px; }
  .kpi-label { font-size: 10px; }

  /* FORMS - EXTRA COMPACT */
  .field { margin-bottom: 8px; }
  .field label { 
    font-size: 8px;
    margin-bottom: 3px;
  }
  .field input,
  .select-styled {
    font-size: 16px;
    padding: 9px 8px;
    height: 38px;
  }

  /* BUTTONS - MINIMAL */
  .btn-main { 
    padding: 8px 10px;
    font-size: 12px;
    min-height: 36px;
  }
  .btn-outline,
  .btn-ghost { 
    min-height: 34px;
    font-size: 11px;
  }

  /* CARDS - TIGHT PADDING */
  .card { 
    padding: 12px;
  }

  /* LOGIN - MINIMAL */
  .login-wrap { 
    padding: 12px;
  }
  .login-title { 
    font-size: 20px;
  }
  .login-emblem { 
    width: 48px;
    height: 48px;
    font-size: 18px;
    margin: 0 auto 8px;
  }
  .login-geometric:nth-child(1) { 
    width: 300px; 
    height: 300px; 
    top: -120px; 
    right: -120px; 
  }
  .login-geometric.g2 { 
    width: 200px; 
    height: 200px; 
    bottom: -60px; 
    left: -100px; 
  }

  /* TOPBAR COMPACT */
  .topbar { padding: 0 10px; }
  .topbar-brand { 
    font-size: 13px;
    gap: 6px;
  }
  .topbar-brand i { font-size: 14px; }
  .topbar-notif, .topbar-av {
    width: 28px;
    height: 28px;
    font-size: 11px;
  }

  /* SIDEBAR OVERLAY TOGGLE */
  .sidebar {
    width: 220px;
  }

  /* TEXT & SPACING */
  p { font-size: 12px; }
  small { font-size: 9px; }
  
  .section-title { 
    font-size: 13px;
    margin-bottom: 8px;
  }

  /* MODALS */
  .modal-content {
    width: 98vw;
    padding: 12px;
  }

  /* GRID ADJUSTMENTS */
  .grid-auto { 
    grid-template-columns: 1fr;
    gap: 8px;
  }

  /* LINE WIDTH */
  thead th { 
    font-size: 9px;
    padding: 6px 4px;
  }
  tbody td {
    padding: 6px 4px;
    font-size: 10px;
  }

  /* ICON ADJUSTMENTS */
  .nav-icon { 
    width: 24px; 
    height: 24px; 
    font-size: 11px;
  }
  .profile-av { 
    width: 34px; 
    height: 34px;
    font-size: 12px;
  }

  /* MARGIN/PADDING REDUCTIONS */
  .gap-8 { gap: 4px; }
  .gap-12 { gap: 6px; }
  .gap-16 { gap: 8px; }
  .px-4 { padding: 0 8px; }
  .py-4 { padding: 8px 0; }
}

/* ══ GLOBAL MOBILE FIXES ════════════════════════════════ */
@media (max-width: 1024px) {
  /* Prevent overflow stacking */
  .page { width: 100%; }
  .modal-content { max-height: 90vh; overflow-y: auto; }
  
  /* Fix dropdown positioning */
  .dropdown-menu { max-height: 80vh; overflow-y: auto; }
  
  /* Safe area for notch devices */
  @supports (padding: max(0px)) {
    .topbar { padding-left: max(12px, env(safe-area-inset-left)); padding-right: max(12px, env(safe-area-inset-right)); }
    .main { padding-left: max(12px, env(safe-area-inset-left)); padding-right: max(12px, env(safe-area-inset-right)); }
    .sidebar { padding-left: max(12px, env(safe-area-inset-left)); padding-bottom: max(12px, env(safe-area-inset-bottom)); }
  }
}

/* ══ LANDSCAPE MODE ════════════════════════════════════ */
@media (max-height: 500px) and (orientation: landscape) {
  .topbar { height: 48px; }
  .main { padding: 12px 16px; }
  .kpi-row { gap: 8px; }
  .kpi-card { padding: 10px 12px; }
  .page-header { padding-bottom: 8px; }
  .card { padding: 12px; }
  
  .sidebar {
    padding: 12px 8px;
  }
}

/* ══ PRINT STYLES ══════════════════════════════════════ */
@media print {
  .sidebar, .topbar, .menu-toggle, .btn-outline, .btn-ghost {
    display: none;
  }
  .main { 
    padding: 0;
    background: #fff;
  }
  .screen-app {
    display: block;
  }
}

/* ══ LOGIN OPTIMIZATION ════════════════════════════════ */
@media (max-width: 768px) {
  /* Otimizar card de login/registro */
  .login-wrap { padding: 14px; }
  .card { padding: 18px; }
  .login-top { margin-bottom: 18px; }
  .field { margin-bottom: 10px; }
  .field label { font-size: 10px; margin-bottom: 4px; }
  .fields-2col { gap: 0 8px; }
  .hint-box { padding: 10px 13px; font-size: 12px; margin: 10px 0; }
  .tab-row { margin-bottom: 14px; }
  .form-msg { font-size: 12px; }
}

@media (max-width: 480px) {
  /* Reduzir tamanho em smartphones */
  .login-wrap { padding: 12px; max-width: 90vw; }
  .card { padding: 14px; }
  .login-top { margin-bottom: 14px; }
  .field { margin-bottom: 8px; }
  .field label { font-size: 9px; margin-bottom: 3px; }
  .fields-2col { gap: 0 6px; }
  .hint-box { padding: 8px 10px; font-size: 11px; margin: 8px 0; }
  .tab { padding: 7px; font-size: 11px; }
  .tab-row { gap: 2px; padding: 2px; margin-bottom: 12px; }
  .form-msg { font-size: 11px; }
}

@media (max-width: 360px) {
  /* Ultra compacto para celulares pequenos */
  .login-wrap { padding: 10px; max-width: 88vw; }
  .card { padding: 12px; }
  .login-top { margin-bottom: 12px; }
  .field { margin-bottom: 6px; }
  .field label { font-size: 8px; margin-bottom: 2px; }
  .fields-2col { gap: 0 4px; }
  .hint-box { padding: 6px 8px; font-size: 10px; margin: 6px 0; }
  .tab { padding: 6px; font-size: 10px; }
  .tab-row { gap: 1px; padding: 2px; margin-bottom: 10px; }
  .form-msg { font-size: 10px; }
}

/* ══ ULTRA SMALL PHONES (320px) ════════════════════════ */
@media (max-width: 320px) {
  /* Extremamente compacto */
  .login-wrap { padding: 8px; max-width: 85vw; }
  .login-top { margin-bottom: 8px; }
  .login-title { font-size: 18px; margin-bottom: 0; }
  .login-sub { font-size: 7px; letter-spacing: 1px; }
  .login-emblem { width: 44px; height: 44px; margin: 0 auto 4px; font-size: 16px; }
  
  .card { padding: 10px; }
  .field { margin-bottom: 5px; }
  .field label { font-size: 7px; margin-bottom: 2px; }
  .field input, .select-styled { padding: 7px 6px; height: 34px; font-size: 14px; }
  .fields-2col { gap: 0 3px; }
  .tab { padding: 5px; font-size: 9px; }
  .tab-row { gap: 1px; padding: 1px; margin-bottom: 8px; }
  .hint-box { padding: 5px 7px; font-size: 9px; margin: 5px 0; }
  .form-msg { font-size: 9px; }
  .btn-main { padding: 7px 10px; min-height: 34px; font-size: 11px; gap: 3px; }
}
